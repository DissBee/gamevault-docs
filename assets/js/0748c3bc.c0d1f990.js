"use strict";(self.webpackChunkgamevault_docs=self.webpackChunkgamevault_docs||[]).push([[6241],{3785:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>d,default:()=>c,frontMatter:()=>n,metadata:()=>s,toc:()=>l});var i=a(2676),r=a(9246);const n={title:"Enriching your Games with Metadata",sidebar_position:.01},d=void 0,s={id:"server-docs/metadata-enrichment/metadata",title:"Enriching your Games with Metadata",description:"Research shows that nobody wants to see blank placeholder images and missing descriptions in their library. We want those games enriched with some juicy metadata.",source:"@site/docs/server-docs/metadata-enrichment/metadata.md",sourceDirName:"server-docs/metadata-enrichment",slug:"/server-docs/metadata-enrichment/metadata",permalink:"/docs/server-docs/metadata-enrichment/metadata",draft:!1,unlisted:!1,editUrl:"https://github.com/phalcode/gamevault-docs/tree/master/docs/server-docs/metadata-enrichment/metadata.md",tags:[],version:"current",lastUpdatedBy:"Alper Alkan",lastUpdatedAt:1729509521e3,sidebarPosition:.01,frontMatter:{title:"Enriching your Games with Metadata",sidebar_position:.01},sidebar:"docs",previous:{title:"Game Indexing",permalink:"/docs/server-docs/indexing"},next:{title:"Provider: IGDB",permalink:"/docs/server-docs/metadata-enrichment/provider-igdb"}},o={},l=[{value:"Setting Up a Metadata Provider",id:"setting-up-a-metadata-provider",level:2},{value:"Built-In Metadata Providers",id:"built-in-metadata-providers",level:3},{value:"Community-Maintained Metadata Providers",id:"community-maintained-metadata-providers",level:3},{value:"How Metadata Enrichment in GameVault Works",id:"how-metadata-enrichment-in-gamevault-works",level:2},{value:"Editing Metadata",id:"editing-metadata",level:2},{value:"Remapping a Game",id:"remapping-a-game",level:2},{value:"Unmapping a Game",id:"unmapping-a-game",level:2},{value:"How GameVault Merges Metadata",id:"how-gamevault-merges-metadata",level:2},{value:"Developing a New Metadata Provider",id:"developing-a-new-metadata-provider",level:2}];function h(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["Research shows that nobody wants to see blank placeholder images and missing descriptions in their library. We want those games enriched with some ",(0,i.jsx)(t.strong,{children:"juicy metadata"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["GameVault supports a ",(0,i.jsx)(t.strong,{children:"vast plugin framework"})," that supports connecting to various metadata providers simultaneously. In the following sections, you'll learn how to set up a metadata provider and get started."]}),"\n",(0,i.jsx)(t.h2,{id:"setting-up-a-metadata-provider",children:"Setting Up a Metadata Provider"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Click on any of the entries below to get to their dedicated page."})}),"\n",(0,i.jsx)(t.h3,{id:"built-in-metadata-providers",children:"Built-In Metadata Providers"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"/docs/server-docs/metadata-enrichment/provider-igdb",children:(0,i.jsx)(t.strong,{children:"IGDB (via Client-ID and Client-Secret)"})})}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"community-maintained-metadata-providers",children:"Community-Maintained Metadata Providers"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Not yet available"}),", but you can ",(0,i.jsx)(t.a,{href:"#developing-a-new-metadata-provider",children:"build the first one!"})]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"how-metadata-enrichment-in-gamevault-works",children:"How Metadata Enrichment in GameVault Works"}),"\n",(0,i.jsx)(t.p,{children:"The GameVault Server includes a metadata service that allows various Metadata Provider Plugins to register. Each provider registers with a numerical priority value - the higher the priority, the more important the metadata is treated."}),"\n",(0,i.jsxs)(t.p,{children:["After ",(0,i.jsx)(t.a,{href:"../indexing",children:"indexing the games"}),", GameVault automatically searches for relevant metadata. It uses a standard interface search method to find games on the metadata provider (often based on Game Title and Release Year) and determines the best match using a probability index calculated with an NLP Levenshtein algorithm and the release-year-offset. The further away the title and release date, the less probable the match. For each game file, only one game can be mapped per metadata provider."]}),"\n",(0,i.jsx)(t.h2,{id:"editing-metadata",children:"Editing Metadata"}),"\n",(0,i.jsxs)(t.p,{children:["To edit metadata, Users need to have the role ",(0,i.jsx)(t.code,{children:"EDITOR"})," or higher. Data provided by users are always treated with ",(0,i.jsx)(t.strong,{children:"the highest priority"}),". Only one user-provided metadata object per game is allowed and it is the same for all users. This can be used to fill in missing data manually or change it."]}),"\n",(0,i.jsx)(t.h2,{id:"remapping-a-game",children:"Remapping a Game"}),"\n",(0,i.jsx)(t.p,{children:"It is possible to search the registered Metadata Providers to find a better matching game and remap the current match to it."}),"\n",(0,i.jsx)(t.h2,{id:"unmapping-a-game",children:"Unmapping a Game"}),"\n",(0,i.jsx)(t.p,{children:"It is possible to unmap a game from a Metadata Provider, which will disconnect the mapped metadata from the game."}),"\n",(0,i.jsx)(t.h2,{id:"how-gamevault-merges-metadata",children:"How GameVault Merges Metadata"}),"\n",(0,i.jsxs)(t.p,{children:["GameVault always applies the metadata detached and by priority, by creating an ",(0,i.jsx)(t.strong,{children:"effective"})," metadata object ",(0,i.jsx)(t.code,{children:"game.metadata"}),'. We call this process "merging". It works as follows:']}),"\n",(0,i.jsx)(t.p,{children:'Let\'s say we have a game: "Grand Theft Auto: San Andreas" with two Metadata Providers and a user-provided edit.'}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Provider"}),(0,i.jsx)(t.th,{children:"Priority"}),(0,i.jsx)(t.th,{children:"Title"}),(0,i.jsx)(t.th,{children:"Description"}),(0,i.jsx)(t.th,{children:"Age Rating"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"STEAM"}),(0,i.jsx)(t.td,{children:"1"}),(0,i.jsx)(t.td,{children:"Grand Theft Auto: San Andreas"}),(0,i.jsx)(t.td,{children:"All you had to do is to follow the damn train, CJ."}),(0,i.jsx)(t.td,{children:"18"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"IGDB"}),(0,i.jsx)(t.td,{children:"2"}),(0,i.jsx)(t.td,{children:"Grand Theft Auto: San Andreas"}),(0,i.jsx)(t.td,{children:"I'll have two number 9s, a number 9 large..."}),(0,i.jsx)(t.td,{})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"USER"}),(0,i.jsx)(t.td,{children:"\u221e"}),(0,i.jsx)(t.td,{children:"N/A"}),(0,i.jsx)(t.td,{children:"N/A"}),(0,i.jsx)(t.td,{children:"12"})]})]})]}),"\n",(0,i.jsx)(t.p,{children:'GameVault begins creating the "effective" metadata object by starting with the lowest priority provider and working its way up. In our case, the lowest priority provider is Steam with a priority of 1.'}),"\n",(0,i.jsx)(t.p,{children:"So the generated metadata object initially looks like this:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Provider"}),(0,i.jsx)(t.th,{children:"Title"}),(0,i.jsx)(t.th,{children:"Description"}),(0,i.jsx)(t.th,{children:"Age Rating"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"GameVault"}),(0,i.jsx)(t.td,{children:"Grand Theft Auto: San Andreas"}),(0,i.jsx)(t.td,{children:"All you had to do is to follow the damn train, CJ."}),(0,i.jsx)(t.td,{children:"18"})]})})]}),"\n",(0,i.jsx)(t.p,{children:"Next, the IGDB provider is used. As you can see, it has a different description, but the age rating is missing. GameVault will overwrite the description with the more important one. However, the missing age rating will be ignored, as some data from a lower priority provider is always preferred over having no data in a field. So the merged metadata object now looks like:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Provider"}),(0,i.jsx)(t.th,{children:"Title"}),(0,i.jsx)(t.th,{children:"Description"}),(0,i.jsx)(t.th,{children:"Age Rating"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"GameVault"}),(0,i.jsx)(t.td,{children:"Grand Theft Auto: San Andreas"}),(0,i.jsx)(t.td,{children:"I'll have two number 9s, a number 9 large..."}),(0,i.jsx)(t.td,{children:"18"})]})})]}),"\n",(0,i.jsx)(t.p,{children:"Finally, we get to the user-provided metadata. This one is special because the user always has the highest priority. So it will always be used. In our case, we want to let our underage kid play some San Andreas, so we overwrote the age rating to 12. Again, missing fields will be ignored."}),"\n",(0,i.jsx)(t.p,{children:"So the merged metadata object now looks like:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Provider"}),(0,i.jsx)(t.th,{children:"Title"}),(0,i.jsx)(t.th,{children:"Description"}),(0,i.jsx)(t.th,{children:"Age Rating"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"GameVault"}),(0,i.jsx)(t.td,{children:"Grand Theft Auto: San Andreas"}),(0,i.jsx)(t.td,{children:"I'll have two number 9s, a number 9 large..."}),(0,i.jsx)(t.td,{children:"12"})]})})]}),"\n",(0,i.jsx)(t.p,{children:"This is the final result. The merge is done by the GameVault Server."}),"\n",(0,i.jsx)(t.p,{children:"The server will trigger a new merge whenever a relevant metadata object is changed (e.g., Edit of Game Metadata, Recache, Remap, etc.)."}),"\n",(0,i.jsx)(t.h2,{id:"developing-a-new-metadata-provider",children:"Developing a New Metadata Provider"}),"\n",(0,i.jsxs)(t.p,{children:["To build a new integration for a metadata provider, you need to write a GameVault Backend Plugin. ",(0,i.jsx)(t.a,{href:"/docs/server-docs/plugins",children:"Click here"})," to understand how that works."]}),"\n",(0,i.jsxs)(t.p,{children:["Then you will need to build a ",(0,i.jsx)(t.a,{href:"https://docs.nestjs.com/providers#services",children:"NestJS service"})," that implements the ",(0,i.jsx)(t.a,{href:"https://github.com/Phalcode/gamevault-backend/blob/master/src/modules/metadata/providers/abstract.metadata-provider.service.ts",children:"abstract.metadata-provider.interface.ts"})," and implement your own configuration environment variables if necessary. Make sure they fit in but do not conflict with any existing environment variables and are distinct enough. (For example, ",(0,i.jsx)(t.code,{children:"PLUGIN_AUTHORNAME_PLUGINNAME_SETTING"})," like ",(0,i.jsx)(t.code,{children:"PLUGIN_ALFAGUN74_IGDB_ENABLED"}),")."]}),"\n",(0,i.jsxs)(t.p,{children:["Last but not least, you can then create a GitHub repository and tag it with the tag ",(0,i.jsx)(t.code,{children:"gamevault-backend-plugin"})," to make it findable. After that, you can also add your provider in this documentation with a notice that it is community maintained."]})]})}function c(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},9246:(e,t,a)=>{a.d(t,{Z:()=>s,a:()=>d});var i=a(5271);const r={},n=i.createContext(r);function d(e){const t=i.useContext(n);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(n.Provider,{value:t},e.children)}}}]);